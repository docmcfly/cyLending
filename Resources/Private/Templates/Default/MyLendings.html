<!DOCTYPE html PUBLIC "-//WC//DTD XHTML . Strict//EN" "http://www.w.org/TR/xhtml/DTD/xhtml-strict.dtd">
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true"
    xmlns="http://www.w.org//xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<body>

    <f:layout name="Default" />
    <f:section name="content">

        <f:if condition="{myLendings->f:count()} == 0">
            <f:then>
                <f:translate key="lending.overview.myLendings.noneEntries" />
            </f:then>
            <f:else>
                <f:for each="{myLendings}" as="myLending">
                    <div class="form">
                        <f:if condition="{myLending.uid} > 0 ">
                            <f:render partial="ValidationResults"
                                arguments="{prefix: prefix ,  object: myLending, context:context}" />
                            <div class="row mt-4">
                                <div class="col-md-3 fw-bold fs-5">
                                    <f:translate key="{prefix}.object" />
                                </div>
                                <div class="col-md-9 fw-bold fs-5">
                                    <div class="rounded-2  border px-2">
                                        {myLending.object.title}</div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-3">
                                    <f:translate key="{prefix}.purpose" />
                                </div>
                                <div class="col-md-9">
                                    <div class="rounded-2  border px-2">
                                        {myLending.purpose}</div>
                                </div>
                            </div>
                            <f:if condition="{myLending.highPriority}">
                                <div class="row mt-2">
                                    <div class="col-md-3 text-primary">
                                        <f:translate key="{prefix}.highPriority" />
                                    </div>
                                    <div class="col-md-9  text-primary">
                                        ðŸ—¹
                                    </div>
                                </div>
                            </f:if>
                            <f:if condition="{myLending.object.quantity} > 1">
                                <div class="row mt-2">
                                    <div class="col-md-3">
                                        <f:translate key="{prefix}.quantity" />
                                    </div>
                                    <div class="col-md-9">
                                        <div class="rounded-2  border px-2">
                                            {myLending.quantity}</div>
                                    </div>
                                </div>
                            </f:if>
                            <div class="row mt-2">
                                <div class="col-md-3">
                                    <f:translate key="{prefix}.from" />
                                </div>
                                <div class="col-md-9 ">
                                    <div class="rounded-2  border px-2">
                                        <f:format.date format="d.m.Y - H:i">{myLending.from}
                                        </f:format.date>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-3">
                                    <f:translate key="{prefix}.until" />
                                </div>
                                <div class="col-md-9">
                                    <div class="rounded-2  border px-2">
                                        <f:format.date format="d.m.Y - H:i">{myLending.until}
                                        </f:format.date>
                                    </div>
                                </div>
                            </div>
                            <div class="row border-bottom mt-3 pb-4">
                                <div class="col-md-3">&nbsp;</div>
                                <div class="col-md-4">
                                    <div class="messages"></div>
                                    <button class="btn btn-primary mb-2 formAction lendingAction"
                                        data-uri="{f:uri.action( pageType:'{settings.ajax.pageType}', controller:'AjaxConnect', action:'cancelMyLending', absolute='true', arguments:{ceUid:ceUid, uid:myLending.uid })}">
                                        <f:translate key="lending.overview.myLending.action.cancel" />
                                    </button>
                                </div>
                            </div>
                        </f:if>
                    </div>
                </f:for>
            </f:else>
        </f:if>
    </f:section>
</body>

</html>