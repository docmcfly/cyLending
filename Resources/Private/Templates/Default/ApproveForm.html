<!DOCTYPE html PUBLIC "-//WC//DTD XHTML . Strict//EN" "http://www.w.org/TR/xhtml/DTD/xhtml-strict.dtd">
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true"
    xmlns="http://www.w.org//xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<body>

    <f:layout name="Default" />
    <f:section name="content">
        <f:if condition="{availabilityRequests->f:count()} == 0">
            <f:then>
                <f:translate key="lending.overview.approval.noneEntries" />
            </f:then>
            <f:else>
                <style>
                    button.lendingAction:disabled::before {
                        content: "âŒ› ";
                    }
                </style>
                <f:for each="{availabilityRequests}" as="availabilityRequest">
                    <div class="form">
                        <div class="row mt-4">
                            <div class="col-md-3 fw-bold fs-5">
                                <f:translate key="{prefix}.object" />
                            </div>
                            <div class="col-md-9 fw-bold fs-5">
                                <div class="rounded-2  border px-2">
                                    {availabilityRequest.object.title}</div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-3">
                                <f:translate key="{prefix}.purpose" />
                            </div>
                            <div class="col-md-9">
                                <div class="rounded-2  border px-2">
                                    {availabilityRequest.purpose}</div>
                            </div>
                        </div>
                        <f:if condition="{availabilityRequest.highPriority}">
                            <div class="row mt-2">
                                <div class="col-md-3 text-primary">
                                    <f:translate key="{prefix}.highPriority" />
                                </div>
                                <div class="col-md-9  text-primary">
                                    ðŸ—¹
                                </div>
                            </div>
                        </f:if>
                        <f:if condition="{availabilityRequest.object.quantity} > 1">
                            <div class="row mt-2">
                                <div class="col-md-3">
                                    <f:translate key="{prefix}.quantity" />
                                </div>
                                <div class="col-md-9">
                                    <div class="rounded-2  border px-2">
                                        {availabilityRequest.quantity}</div>
                                </div>
                            </div>
                        </f:if>
                        <div class="row  mt-2">
                            <div class="col-md-3">
                                <f:translate key="{prefix}.borrower" />
                            </div>
                            <div class="col-md-9 ">
                                <div class="rounded-2  border px-2">
                                    {availabilityRequest.borrower.firstName}
                                    {availabilityRequest.borrower.lastName}</div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-3">
                                <f:translate key="{prefix}.from" />
                            </div>
                            <div class="col-md-9 ">
                                <div class="rounded-2  border px-2">
                                    <f:format.date format="d.m.Y - H:i">{availabilityRequest.from}
                                    </f:format.date>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-3">
                                <f:translate key="{prefix}.until" />
                            </div>
                            <div class="col-md-9">
                                <div class="rounded-2  border px-2">
                                    <f:format.date format="d.m.Y - H:i">{availabilityRequest.until}
                                    </f:format.date>
                                </div>
                            </div>
                        </div>
                        <div class="row border-bottom mt-3 pb-4">
                            <div class="col-md-3">&nbsp;</div>
                            <div class="col-md-4">
                                <div class="messages"></div>
                                <button class="btn btn-primary mb-2 formAction lendingAction"
                                    data-uri="{f:uri.action( pageType:'{settings.ajax.pageType}', controller:'AjaxConnect', action:'approve', absolute='true', arguments:{ceUid:ceUid, uid:availabilityRequest.uid })}">
                                    <f:translate key="lending.overview.approval.action.approve" />
                                </button>
                            </div>
                            <div class="col-md-4">
                                <div class="messages"></div>
                                <button class="btn btn-dark mb-2 formAction lendingAction"
                                    data-uri="{f:uri.action( pageType:'{settings.ajax.pageType}', controller:'AjaxConnect', action:'reject', absolute='true', arguments:{ceUid:ceUid, uid:availabilityRequest.uid })}">
                                    <f:translate key="lending.overview.approval.action.reject" />
                                </button>
                            </div>
                        </div>
                    </div>
                </f:for>
            </f:else>
        </f:if>
    </f:section>
</body>

</html>